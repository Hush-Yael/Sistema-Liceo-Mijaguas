{% extends "lista-objetos.html" %}
{% load static %}
{% load grupos_variantes %}
{% load utilidades %}

{% block cabeza %}
  {{ block.super }}
  <script defer src="{% static 'js/componentes/combobox.js' %}"></script>
  <script defer src="{% static 'js/alpine-focus.min.js' %}"></script>
{% endblock cabeza %}

{% comment %}<!-- prettier-ignore-start -->{% endcomment %}
  {% block x_data %}
      urlFotoSeleccionada: '',
  {% endblock x_data %}
{% comment %}<!-- prettier-ignore-end -->{% endcomment %}

{% block opciones_filtros %}
  {{ block.super }}
  {%
    include "componentes/vista-lista/filtros/conjunto-opciones.html" with
    campo=form_filtros.grupos
  %}
{% endblock opciones_filtros %}

{% block modales %}
  {{ block.super }}

  <dialog
    class="size-325px min-[400px]:size-400px min-[500px]:size-500px **:size-full transition-[width,height,transform,opacity] ease-out"
    x-show="modalAbierto === 'foto'"
    x-htmldialog="modalAbierto = null"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0 scale-90"
    @click="$event.target === $event.currentTarget && (modalAbierto = null)"
  >
    <img
      class="aspect-square object-cover"
      :src="urlFotoSeleccionada ? '{{ media_url }}' + urlFotoSeleccionada : false"
      alt="foto"
    />
  </dialog>
{% endblock modales %}
