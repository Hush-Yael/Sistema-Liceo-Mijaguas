{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block titulo %}Profesores{% endblock titulo %}

{% block cabeza %}
  <link rel="stylesheet" href="{% static 'css/componentes/badge.css' %}" />
  <link rel="stylesheet" href="{% static 'css/profesores/index.css' %}" />
{% endblock cabeza %}

{% block contenido %}
  <form method="post" id="buscador">
    {% csrf_token %}
    {% render_field form.busqueda type="search" name="busqueda" id="busqueda" aria-label=form.busqueda.label placeholder="Buscar" %}

    <button id="btn-buscar" class="btn-primario btn-sm" aria-label="Buscar">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
        <path d="M21 21l-6 -6" />
      </svg>
    </button>

    <details class="menu" id="opciones-busqueda">
      <summary class="btn caja-input" aria-label="Opciones de búsqueda">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path
            d="M11.646 20.965a1.67 1.67 0 0 1 -1.321 -1.282a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c.728 .177 1.154 .71 1.279 1.303"
          />
          <path d="M14.985 11.694a3 3 0 1 0 -3.29 3.29" />
          <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
          <path d="M20.2 20.2l1.8 1.8" />
        </svg>
      </summary>

      <div class="contenido col">
        <div class="campo">
          {{ form.columna_buscada.label_tag }}
          {% render_field form.columna_buscada class="caja-input" %}
        </div>

        <div class="campo">
          {{ form.tipo_busqueda.label_tag }}
          {% render_field form.tipo_busqueda class="caja-input" %}
        </div>

        <div class="campo">
          {{ form.ordenar_por.label_tag }}
          {% render_field form.ordenar_por class="caja-input" %}
        </div>

        <div class="campo">
          {{ form.direccion_de_orden.label_tag }}
          {% render_field form.direccion_de_orden class="caja-input" %}
        </div>
      </div>
    </details>
  </form>

  <ul id="profesores">
    {% for profesor in profesores %}
      <li class="profesor col caja">
        <a href="{% url 'profesor' profesor.id %}">
          <div class="icono">
            <svg viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"
              />
            </svg>
          </div>

          <span class="nombres"
            >{{ profesor.apellidos }} {{ profesor.nombres }}</span
          >
        </a>

        <div class="info">
          <p><span>Añadido el:</span> {{ profesor.fecha_ingreso }}</p>

          <p>
            <span>Telefono:</span>
            {{ profesor.telefono|default:'no asignado' }}
          </p>

          <p>
            <span>Correo:</span>
            <a
              class="link-secundario"
              href="mailto:{{ profesor.usuario.email }}"
              >{{ profesor.usuario.email|default:'no asignado' }}</a
            >
          </p>

          <div
            role="status"
            class="badge estado"
            data-activo="{{ profesor.esta_activo }}"
          >
            {% if profesor.esta_activo %}
              <span class="activo">Activo</span>
            {% else %}
              <span class="inactivo">Inactivo</span>
            {% endif %}
          </div>
        </div>
      </li>
    {% endfor %}
  </ul>
{% endblock %}
