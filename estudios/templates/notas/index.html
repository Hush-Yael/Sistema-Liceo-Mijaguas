{% extends "lista-objetos.html" %}
{% load static %}
{% load partials %}
{% load utilidades %}
{% load widget_tweaks %}
{% load grupos_variantes %}

{% block cabeza %}
  {{ block.super }}
  {% include "componentes/tabla-adaptable/cabeza.html" %}
  {% include "componentes/combobox.html#scripts" %}
{% endblock cabeza %}

{% block contenido %}
  {%
    with
    main_class='col gap-y-4 flex-1 size-full supports-[not(height:1dvh)]:(max-h-[calc(100vh-var(--altura-header))] h-[calc(100vh-var(--altura-header))]) h-[calc(100dvh-var(--altura-header))] max-h-[calc(100dvh-var(--altura-header))] max-w-1000px mxa p-4 overflow-y-auto min-[600px]:p-5 min-[700px]:p-6 min-[1000px]:p-8!'|expandir_variantes
    nombre_url_crear='crear_nota'
  %}
    {{ block.super }}
  {% endwith %}
{% endblock contenido %}

{% block opciones_filtros %}
  {% with busqueda_activa=1 %}
    {% comment %}<!-- prettier-ignore-start -->{% endcomment %}
      {% include "componentes/vista-lista/filtros/conjunto-opciones.html" with
        campo=form_filtros.materias
        opciones=form_filtros.materias|obtener_lista_opciones
        opciones_seleccionadas=form_filtros.materias.value
      %}

      {% include "componentes/vista-lista/filtros/conjunto-opciones.html" with
        campo=form_filtros.secciones
        opciones=form_filtros.secciones.field.choices|obtener_lista_opciones
        opciones_seleccionadas=form_filtros.secciones.value
      %}

      {% include "componentes/vista-lista/filtros/conjunto-opciones.html" with
        campo=form_filtros.lapsos
        opciones=form_filtros.lapsos.field.choices|obtener_lista_opciones
        opciones_seleccionadas=form_filtros.lapsos.value
      %}
    {% comment %}<!-- prettier-ignore-end -->{% endcomment %}
  {% endwith %}
{% endblock opciones_filtros %}

{% block sin_objetos %}
  {% comment %}<!-- prettier-ignore-start -->{% endcomment %}
    <h2 class="font-bold text-xl">No se han añadido

      {% if not hay_matriculas %}
        matrículas</h2>
        <p class="text-texto-sutil">
          estas son necesarias para poder asignar notas
        </p>
      {% elif not hay_materias %}
        asignaturas</h2>
        <p class="text-texto-sutil">
          estas son necesarias para poder asignar notas
        </p>
        
      {% else %}
        notas</h2>
        <p class="text-texto-sutil">
          Parece que las actividades escolares no han iniciado
        </p>
      {% endif %}
  {% comment %}<!-- prettier-ignore-end -->{% endcomment %}
{% endblock sin_objetos %}
